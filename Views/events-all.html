<!DOCTYPE html>
<html >
<head>
  <!-- Site made with Mobirise Website Builder v4.8.10, https://mobirise.com -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v4.8.10, mobirise.com">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="assets/images/mfm-logo-png-122x122.png" type="image/x-icon">
  <meta name="description" content="Site Maker Description">
  <title>All Events</title>
  <link rel="stylesheet" href="assets/web/assets/mobirise-icons/mobirise-icons.css">
  <link rel="stylesheet" href="assets/tether/tether.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
  <link rel="stylesheet" href="assets/dropdown/css/style.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">
    <link rel="stylesheet" href="assets/mobirise/css/event-all.css" type="text/css">
    <style type="text/css">
        .event-card {
            border-bottom: 2px solid #a09b9b52;
            border-radius: 0;
            padding: 0px 0 10px !important;
            margin-bottom: 20px;
        }

        .side-date {
            width: 95px;
        }

        .main-date {
            color: #9a357a;
        }

        .side-date h1, .side-date h2 {
            text-align: center;
        }

        .side-date h2#last-h2 {
            padding-bottom: 30px;
            border-bottom: 5px solid #9a357a;
        }

        a > p.read-more {
            font-weight: 600;
            color: #9a357a !important;
            text-align: end;
        }
    </style>


</head>
<body>
  <section class="menu cid-qTkzRZLJNu" once="menu" id="menu1-3o">

    

    <nav class="navbar navbar-expand beta-menu navbar-dropdown align-items-center navbar-fixed-top navbar-toggleable-sm bg-color transparent">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
        </button>
        <div class="menu-logo">
            <div class="navbar-brand">
                <span class="navbar-logo">
                    <a href="/">
                         <img src="assets/images/mfm-logo-png-122x122.png" alt="church" title="church" style="height: 3.8rem;">
                    </a>
                </span>
                <span class="navbar-caption-wrap"><a style="width: 300px;padding: 0;font-size: 0.9rem;" class="navbar-caption text-white display-4" href="/">
                        Mountain of Fire and Miracles, South Chicago. Home of Champions </a></span>
            </div>
        </div>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">

            <ul class="navbar-nav nav-dropdown nav-right" data-app-modern-menu="true">
                <li class="nav-item"><a class="nav-link link text-secondary display-4" href="index.html">
                    <span class="mbri-home mbr-iconfont mbr-iconfont-btn"></span>
                    Home
                </a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link link dropdown-toggle text-secondary display-4" href="page1.html" data-toggle="dropdown-submenu" aria-expanded="false"><span class="mbri-search mbr-iconfont mbr-iconfont-btn"></span>

                        About Us
                    </a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item text-secondary display-4" href="what-we-believe.html" aria-expanded="false">What We Believe</a>
                        <a class="dropdown-item text-secondary display-4" href="mission-statements.html" aria-expanded="false">Mission StateMents</a>
                        <a class="dropdown-item text-secondary display-4" href="calendar.html" aria-expanded="false">Our Calendar</a>
                        <a class="dropdown-item text-secondary display-4" href="events-all.html" aria-expanded="false">Our Programs</a>
                        <a class="dropdown-item text-secondary display-4" href="contact-us.html">
                            <span class="mbri-mobile mbr-iconfont mbr-iconfont-btn"></span>
                            Contact Us
                        </a>
                    </div>
                </li><li class="nav-item dropdown"><a class="nav-link link dropdown-toggle text-secondary display-4" href="what-to-expect.html" data-toggle="dropdown-submenu" aria-expanded="false"><span class="mbri-users mbr-iconfont mbr-iconfont-btn"></span>

                I'm New
            </a><div class="dropdown-menu"><a class="dropdown-item text-secondary display-4" href="what-to-expect.html">What To Expect</a><a class="dropdown-item text-secondary display-4" href="plan-a-visit.html" aria-expanded="false">Plan A Visit</a></div></li><li class="nav-item dropdown"><a class="nav-link link dropdown-toggle text-secondary display-4" href="new.html" data-toggle="dropdown-submenu" aria-expanded="false"><span class="mbri-video mbr-iconfont mbr-iconfont-btn"></span>
                Media</a><div class="dropdown-menu"><a class="dropdown-item text-secondary display-4" href="images.html">Image Gallery</a><a class="dropdown-item text-secondary display-4" href="audio.html" aria-expanded="false">Audio Gallery</a><a class="dropdown-item text-secondary display-4" href="video.html" aria-expanded="false">Video Gallery</a><a class="dropdown-item text-secondary display-4" href="notes.html" aria-expanded="false">Sermon Notes</a></div></li><li class="nav-item dropdown"><a class="nav-link link dropdown-toggle text-secondary display-4" href="members.html" data-toggle="dropdown-submenu" aria-expanded="false"><span class="mbri-globe mbr-iconfont mbr-iconfont-btn"></span>Ministries</a><div class="dropdown-menu"><a class="dropdown-item text-secondary display-4" href="children.html">Children Ministry</a><a class="dropdown-item text-secondary display-4" href="youth.html">Youth Ministry</a><a class="dropdown-item text-secondary display-4" href="music.html">Music Ministry</a><a class="dropdown-item text-secondary display-4" href="prayer.html">Prayer Ministry</a><a class="dropdown-item text-secondary display-4" href="deliverance.html">Deliverance Ministry</a><a class="dropdown-item text-secondary display-4" href="drama.html">Drama Ministry</a><a class="dropdown-item text-secondary display-4" href="we-care.html">We Care Ministry</a><a class="dropdown-item text-secondary display-4" href="evagelism.html">Evangelism Ministry</a><a class="dropdown-item text-secondary display-4" href="virtuos-women.html">Virtuous Women Ministry</a><a class="dropdown-item text-secondary display-4" href="men-of-valor.html">Men of Valor</a></div></li>
                <li class="nav-item"><a class="nav-link link text-secondary display-4" href="give.html"><span class="mbri-cash mbr-iconfont mbr-iconfont-btn"></span>Give</a></li>
                <li class="nav-item"><a class="nav-link link text-secondary login_admin display-4" href="login.html"><span class="mbri-user mbr-iconfont mbr-iconfont-btn"></span>Login</a></li>
            </ul>
            
        </div>
    </nav>
</section>

  <section class="services6 cid-rCzvQFR41Q" id="services6-1">
      <!---->

      <!---->
      <!--Overlay-->

      <!--Container-->
      <div class="container">
          <div id="event-row" class="row">
              <!--Titles-->
              <div class="title col-12">
                  <h2 class="align-left mbr-fonts-style m-0 display-1" style="font-size: 3rem;">Our Programs</h2>
              </div>
              <!--Card-1-->
              <div class="card col-12 pb-5 event-card">
                  <div class="card-wrapper media-container-row media-container-row">
                      <div class="card-box">
                          <div class="row">
                              <div class="col-12 col-md-2">
                                  <!--Side Date-->
                                  <div class="mbr-figure side-date">
                                      <h2>OCT</h2>
                                      <h1>13</h1>
                                      <h2 id="last-h2">Sun</h2>
                                  </div>
                              </div>
                              <div class="col-12 col-md-2">
                                  <!--Image-->
                                  <div class="mbr-figure">
                                      <img src="assets/images/01.jpg" alt="Mobirise">
                                  </div>
                              </div>
                              <div class="col-12 col-md-8">
                                  <div class="wrapper">
                                      <div class="top-line">
                                          <h4 class="card-title mbr-fonts-style display-5">
                                              Church Sunday
                                          </h4>
                                      </div>
                                      <div class="top-line">
                                      <p class="mbr-text mbr-fonts-style display-7 main-date">
                                          13 October, 2019
                                      </p>
                                  </div>
                                      <div class="bottom-line">
                                          <p class="mbr-text mbr-fonts-style display-7">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus, odit? Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus, odit? Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus, odit?  </p>
                                          <a href="#">
                                              <p class="mbr-text mbr-fonts-style display-7 read-more">Read More </p>
                                          </a>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
              <!--Card-2-->

              <!--Card-3-->

              <!--Card-4-->

              <!--Card-5-->

              <!--Card-6-->

          </div>
      </div>
  </section>

  <section class="cid-qTkAaeaxX5" id="footer1-2">
      <div class="container">
          <div class="media-container-row content text-white">
              <div class="col-12 col-md-3">
                  <div class="media-wrap">
                      <a href="index.html">
                          <img src="assets/images/mfm-logo-png-192x192.png" alt="Mobirise" title="">
                      </a>
                  </div>
              </div>
              <div class="col-12 col-md-3 mbr-fonts-style display-7">
                  <h5 class="pb-3">
                      Address
                  </h5>
                  <p class="mbr-text">8545 S Cottage Grove Ave, Chicago, IL 60619</p>
              </div>
              <div class="col-12 col-md-3 mbr-fonts-style display-7">
                  <h5 class="pb-3">
                      Contacts
                  </h5>
                  <p class="mbr-text">
                      Email: support@mfmsouthchicago.com
                      <br>Phone: +1 7733103610&nbsp;
                  </p>
              </div>
              <div class="col-12 col-md-3 mbr-fonts-style display-7">
                  <h5 class="pb-3">
                      Links
                  </h5>
                  <p class="mbr-text"><a href="/">Home</a><br><a href="events-all.html">Program</a><br><a href="calendar.html">Calendar</a>
                      <br><a href="plan-a-visit.html">Plan a Visit</a><br><a href="contact-us.html">Contact Us</a></p>
              </div>
          </div>
          <div class="footer-lower">
              <div class="media-container-row">
                  <div class="col-sm-12">
                      <hr>
                  </div>
              </div>
              <div class="media-container-row mbr-white">
                  <div class="col-sm-6 copyright">
                      <p id="root" class="mbr-text mbr-fonts-style display-7">
                          © Copyright  2019<a href="mailto:daleks1987@gmail.com">Tozyne</a> - All Rights Reserved
                      </p>
                  </div>
                  <div class="col-md-6">
                      <div class="social-list align-right">
                          <div class="soc-item">
                              <a href="https://twitter.com/" target="_blank">
                                  <span class="socicon-twitter socicon mbr-iconfont mbr-iconfont-social"></span>
                              </a>
                          </div>
                          <div class="soc-item">
                              <a href="https://www.facebook.com/pages/" target="_blank">
                                  <span class="socicon-facebook socicon mbr-iconfont mbr-iconfont-social"></span>
                              </a>
                          </div>
                          <div class="soc-item">
                              <a href="https://www.youtube.com/" target="_blank">
                                  <span class="socicon-youtube socicon mbr-iconfont mbr-iconfont-social"></span>
                              </a>
                          </div>
                          <div class="soc-item">
                              <a href="https://instagram.com/" target="_blank">
                                  <span class="socicon-instagram socicon mbr-iconfont mbr-iconfont-social"></span>
                              </a>
                          </div>
                          <div class="soc-item">
                              <a href="https://plus.google.com/" target="_blank">
                                  <span class="socicon-googleplus socicon mbr-iconfont br-iconfont-social"></span>
                              </a>
                          </div>
                          <div class="soc-item">
                              <a href="https://www.behance.net/" target="_blank">
                                  <span class="socicon-behance socicon mbr-iconfont mbr-iconfont-social"></span>
                              </a>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </section>

  <script src="assets/web/assets/jquery/jquery.min.js"></script>
  <script src="assets/popper/popper.min.js"></script>
  <script src="assets/tether/tether.min.js"></script>
  <script src="assets/bootstrap/js/bootstrap.min.js"></script>
  <script src="assets/dropdown/js/script.min.js"></script>
  <script src="assets/touchswipe/jquery.touch-swipe.min.js"></script>
  <script src="assets/parallax/jarallax.min.js"></script>
  <script src="assets/mbr-tabs/mbr-tabs.js"></script>
  <script src="assets/smoothscroll/smooth-scroll.js"></script>
  <script src="assets/theme/js/script.js"></script>

  <script type="text/javascript">
      $(document).ready(function () {
          loadEventData();
      });
      //=======================pull saved datas==========================
      //sort the returned data by date in ascending order
      function doJoin(val){
          val = val.split(',');
          val = val[1]+ '/' + val[2] + '/' + val[0];
          return val;
      }

      //sort the event array it seld and use it for the actual index.html display, its brilliant
      function sortDataByDateAsc(data) {
          let array = data;

          array.sort(function(a,b){
              // Turn your strings into dates, and then subtract them
              // to get a value that is either negative, positive, or zero.
              a = doJoin(a.Date);
              b = doJoin(b.Date);
              return new Date(a) - new Date(b);
          });
          return array;
      }

      //combine all events_recur into one
      function combineAllEvents(arrayData){
          let combineAllEvents = [];
          $.each(arrayData, function (i, value) {
              combineAllEvents = [...combineAllEvents, ...value.event_recur];
          })
          return combineAllEvents;
      }

      function getShortMonth(_date) {
          let shortName;
          let date = new Date(_date);
          let shortMonthName = new Intl.DateTimeFormat("en-US", {month: "short"}).format;
          shortName = shortMonthName(date);
          return shortName;
      }

      function getLongMonth(_date) {
          let longName;
          let date = new Date(_date);
          let shortMonthName = new Intl.DateTimeFormat("en-US", {month: "long"}).format;
          longName = shortMonthName(date);
          return longName;
      }

      function getDayOfWeek(date) {
          var dayOfWeek = new Date(date).getDay();
          return isNaN(dayOfWeek) ? null : ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'][dayOfWeek];
      }

      let fullEventHtml = "";

      let eventTitle = '<!--Titles-->\n' +
          '              <div class="title col-12">\n' +
          '                  <h2 class="align-left mbr-fonts-style m-0 display-1" style="font-size: 3rem;">Church Events</h2>\n' +
          '              </div>';

      let eventHtmlBodyStart =
          '              <!--Card-1-->\n' +
          '              <div class="card col-12 pb-5 event-card">\n' +
          '                  <div class="card-wrapper media-container-row media-container-row">\n' +
          '                      <div class="card-box">\n' +
          '                          <div class="row">\n';

      let eventHtmlBodyEnd =
          '                          </div>\n' +
          '                      </div>\n' +
          '                  </div>\n' +
          '              </div>';

      function loadEventData() {
          debugger;
          let uri = '/events/find';
          $.ajax({
              url: uri,
              dataType: "json",
              success: function (data) {
                  let combeinedEvents = combineAllEvents(data);
                  let sortedData = sortDataByDateAsc(combeinedEvents);
                  debugger;

                  if (data.length === 1 || data.length === 0)//
                      $('#services6-1.row').html("<strong>No Upcoming Events</strong>");

                  $.each(sortedData, function (i, value) {
                      debugger;

                      let start_date = doJoin(value.Date);
                      if (new Date(start_date) > new Date())//.setHours(0,0,0,0)
                      {
                          let foundData = data.find(o => o._id === value._id);

                          let eventHtmlBodyContent =
                              ' <div class="col-12 col-md-2"><!--Side Date--><div class="mbr-figure side-date">\n' +
                              '                                      <h2>'+ getShortMonth(doJoin(value.Date)) +'</h2>\n' +
                              '                                      <h1>'+new Date(start_date).getDate()+'</h1>\n' +
                              '                                      <h2 id="last-h2">'+ getDayOfWeek(start_date).slice(0, 3) +'</h2>\n' +
                              ' </div></div><div class="col-12 col-md-2"><!--Image--><div class="mbr-figure"><img src="assets/images/gallery/' + foundData.event_imgName + '" alt="church_event">\n' +
                              '</div></div><div class="col-12 col-md-8"><div class="wrapper"><div class="top-line">' +
                              '                                     <h4 class="card-title mbr-fonts-style display-5">'+ foundData.event_name +'</h4>\n' +
                              ' </div><div class="top-line">\n' +
                              '                                      <p class="mbr-text mbr-fonts-style display-7 main-date">' +
                              '' + new Date(start_date).getDate() +' ' + getLongMonth(doJoin(value.Date)) + ' ' + new Date(start_date).getFullYear() + '</p>\n' +//13 October, 2019
                              '</div> <div class="bottom-line">\n' +
                              '                                      <p class="mbr-text mbr-fonts-style display-7">'+ foundData.event_desc +'</p>\n' +
                              '                                       <a target="_blank" href="./events-single.html?id=' + foundData._id + '&date=' + doJoin(value.Date) + '">\n' +
                              '                                              <p class="mbr-text mbr-fonts-style display-7 read-more">Read More </p>\n' +
                              '                                       </a>\n' +
                              '</div></div></div>\n';

                          fullEventHtml += eventHtmlBodyStart + eventHtmlBodyContent + eventHtmlBodyEnd;
                          // $("#event-row").innerHTML = fullEventHtml;

                      }
                  });
                  document.getElementById("event-row").innerHTML = eventTitle + fullEventHtml;
              }
          });
      }
  </script>
  <script src="assets/changes-cookie-detect/detect-ajax.js"></script>
  <script src="assets/changes-cookie-detect/detect-login-logout.js"></script>
  
 <div id="scrollToTop" class="scrollToTop mbr-arrow-up"><a style="text-align: center;"><i></i></a></div>
  </body>
</html>