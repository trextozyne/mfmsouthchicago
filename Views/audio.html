<!DOCTYPE html>
<html >
<head>
  <!-- Site made with Mobirise Website Builder v4.8.10, https://mobirise.com -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v4.8.10, mobirise.com">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="assets/images/mfm-logo-png-122x122.png" type="image/x-icon">
  <meta name="description" content="Web Page Builder Description">
  <title>Audio Gallery</title>
  <link rel="stylesheet" href="assets/web/assets/mobirise-icons/mobirise-icons.css">
  <link rel="stylesheet" href="assets/tether/tether.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
  <link rel="stylesheet" href="assets/socicon/css/styles.css">
  <link rel="stylesheet" href="assets/datatables/data-tables.bootstrap4.min.css">
  <link rel="stylesheet" href="assets/dropdown/css/style.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">

    <style type="text/css">
        /*Specific styling*/
        #content{
            padding: 15px;
            border: solid 1px #eee;
            max-width: 660px;
            margin: auto;
            border-radius: 4px;
            text-align: center;
        }

        .pagination>.active>a,
        .pagination>.active>a:focus,
        .pagination>.active>a:hover,
        .pagination>.active>span,
        .pagination>.active>span:focus,
        .pagination>.active>span:hover {
            z-index: 2;
            color: #fff;
            cursor: default;
            background-color: #337ab7;
            border-color: #337ab7;
        }

        .pagination>li>a, .pagination>li>span {
            position: relative;
            float: left;
            padding: 6px 12px;
            margin-left: -1px;
            line-height: 1.42857143;
            color: #337ab7;
            text-decoration: none;
            background-color: #fff;
            border: 1px solid #ddd;
        }

        .pagination, #pagination-here{
            padding: 0 25%;
        }
    </style>
  
</head>
<body>
  <section class="menu cid-rcTkzYAP5H" once="menu" id="menu1-1v">

    

    <nav class="navbar navbar-expand beta-menu navbar-dropdown align-items-center navbar-fixed-top navbar-toggleable-sm bg-color transparent">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
        </button>
        <div class="menu-logo">
            <div class="navbar-brand">
                <span class="navbar-logo">
                    <a href="/">
                         <img src="assets/images/mfm-logo-png-122x122.png" alt="church" title="church" style="height: 3.8rem;">
                    </a>
                </span>
                <span class="navbar-caption-wrap"><a style="width: 300px;padding: 0;font-size: 0.9rem;" class="navbar-caption text-white display-4" href="/">
                        Mountain of Fire and Miracles, South Chicago. Home of Champions </a></span>
            </div>
        </div>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav nav-dropdown nav-right" data-app-modern-menu="true">
                <li class="nav-item"><a class="nav-link link text-secondary display-4" href="index.html">
                        <span class="mbri-home mbr-iconfont mbr-iconfont-btn"></span>
                        Home
                    </a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link link dropdown-toggle text-secondary display-4" href="page1.html" data-toggle="dropdown-submenu" aria-expanded="false"><span class="mbri-search mbr-iconfont mbr-iconfont-btn"></span>
                       About Us
                    </a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item text-secondary display-4" href="what-we-believe.html" aria-expanded="false">What We Believe</a>
                        <a class="dropdown-item text-secondary display-4" href="mission-statements.html" aria-expanded="false">Mission StateMents</a>
                        <a class="dropdown-item text-secondary display-4" href="calendar.html" aria-expanded="false">Our Calendar</a>
                        <a class="dropdown-item text-secondary display-4" href="events-all.html" aria-expanded="false">Our Programs</a>
                        <a class="dropdown-item text-secondary display-4" href="contact-us.html">
                            <span class="mbri-mobile mbr-iconfont mbr-iconfont-btn"></span>
                            Contact Us
                        </a>
                    </div>
                </li>
                <li class="nav-item dropdown"><a class="nav-link link dropdown-toggle text-secondary display-4" href="what-to-expect.html" data-toggle="dropdown-submenu" aria-expanded="false"><span class="mbri-users mbr-iconfont mbr-iconfont-btn"></span>
                        
                        I'm New
                    </a><div class="dropdown-menu"><a class="dropdown-item text-secondary display-4" href="what-to-expect.html">What To Expect</a><a class="dropdown-item text-secondary display-4" href="plan-a-visit.html" aria-expanded="false">Plan A Visit</a></div></li><li class="nav-item dropdown"><a class="nav-link link dropdown-toggle text-secondary display-4" href="new.html" data-toggle="dropdown-submenu" aria-expanded="false"><span class="mbri-video mbr-iconfont mbr-iconfont-btn"></span>
                        Media</a><div class="dropdown-menu"><a class="dropdown-item text-secondary display-4" href="images.html">Image Gallery</a><a class="dropdown-item text-secondary display-4" href="audio.html" aria-expanded="false">Audio Gallery</a><a class="dropdown-item text-secondary display-4" href="video.html" aria-expanded="false">Video Gallery</a><a class="dropdown-item text-secondary display-4" href="notes.html" aria-expanded="false">Sermon Notes</a></div></li><li class="nav-item dropdown"><a class="nav-link link dropdown-toggle text-secondary display-4" href="members.html" data-toggle="dropdown-submenu" aria-expanded="false"><span class="mbri-globe mbr-iconfont mbr-iconfont-btn"></span>Ministries</a><div class="dropdown-menu"><a class="dropdown-item text-secondary display-4" href="children.html">Children Ministry</a><a class="dropdown-item text-secondary display-4" href="youth.html">Youth Ministry</a><a class="dropdown-item text-secondary display-4" href="music.html">Music Ministry</a><a class="dropdown-item text-secondary display-4" href="prayer.html">Prayer Ministry</a><a class="dropdown-item text-secondary display-4" href="drama.html">Drama Ministry</a><a class="dropdown-item text-secondary display-4" href="we-care.html">We Care Ministry</a><a class="dropdown-item text-secondary display-4" href="evagelism.html">Evangelism Ministry</a><a class="dropdown-item text-secondary display-4" href="virtuos-women.html">Virtuous Women Ministry</a><a class="dropdown-item text-secondary display-4" href="men-of-valor.html">Men of Valor</a></div></li>
                <li class="nav-item"><a class="nav-link link text-secondary display-4" href="give.html"><span class="mbri-cash mbr-iconfont mbr-iconfont-btn"></span>Give</a></li>
                <li class="nav-item"><a class="nav-link link text-secondary login_admin display-4" href="login.html"><span class="mbri-user mbr-iconfont mbr-iconfont-btn"></span>Login</a></li>
            </ul>
            
        </div>
    </nav>
</section>

  <section class="header1 cid-rcTkzZryPe mbr-parallax-background" id="header1-1w">

    <div class="mbr-overlay" style="opacity: 0.5; background-color: rgb(32, 1, 9);">
    </div>

    <div class="container">
        <div class="row justify-content-md-center">
            <div class="mbr-white col-md-10">
                
                <h3 class="mbr-section-subtitle align-center mbr-light pb-3 mbr-fonts-style display-2"><strong>
                    </strong><br><br><br><br><strong>Audio Gallery</strong></h3>
                
                
            </div>
        </div>
    </div>

</section>


  <section class="cid-qTkAaeaxX5" id="footer1-2">
      <div class="container">
          <div class="media-container-row content text-white">
              <div class="col-12 col-md-3">
                  <div class="media-wrap">
                      <a href="index.html">
                          <img src="assets/images/mfm-logo-png-192x192.png" alt="Mobirise" title="">
                      </a>
                  </div>
              </div>
              <div class="col-12 col-md-3 mbr-fonts-style display-7">
                  <h5 class="pb-3">
                      Address
                  </h5>
                  <p class="mbr-text">8545 S Cottage Grove Ave, Chicago, IL 60619</p>
              </div>
              <div class="col-12 col-md-3 mbr-fonts-style display-7">
                  <h5 class="pb-3">
                      Contacts
                  </h5>
                  <p class="mbr-text">
                      Email: support@mfmsouthchicago.com
                      <br>Phone: +1 7733103610&nbsp;
                  </p>
              </div>
              <div class="col-12 col-md-3 mbr-fonts-style display-7">
                  <h5 class="pb-3">
                      Links
                  </h5>
                  <p class="mbr-text"><a href="/">Home</a><br><a href="events-all.html">Program</a><br><a href="calendar.html">Calendar</a>
                      <br><a href="plan-a-visit.html">Plan a Visit</a><br><a href="contact-us.html">Contact Us</a></p>
              </div>
          </div>
          <div class="footer-lower">
              <div class="media-container-row">
                  <div class="col-sm-12">
                      <hr>
                  </div>
              </div>
              <div class="media-container-row mbr-white">
                  <div class="col-sm-6 copyright">
                      <p id="root" class="mbr-text mbr-fonts-style display-7">
                          Â© Copyright  2019<a href="mailto:daleks1987@gmail.com">Tozyne</a> - All Rights Reserved
                      </p>
                  </div>
                  <div class="col-md-6">
                      <div class="social-list align-right">
                          <div class="soc-item">
                              <a href="https://twitter.com/" target="_blank">
                                  <span class="socicon-twitter socicon mbr-iconfont mbr-iconfont-social"></span>
                              </a>
                          </div>
                          <div class="soc-item">
                              <a href="https://www.facebook.com/pages/" target="_blank">
                                  <span class="socicon-facebook socicon mbr-iconfont mbr-iconfont-social"></span>
                              </a>
                          </div>
                          <div class="soc-item">
                              <a href="https://www.youtube.com/" target="_blank">
                                  <span class="socicon-youtube socicon mbr-iconfont mbr-iconfont-social"></span>
                              </a>
                          </div>
                          <div class="soc-item">
                              <a href="https://instagram.com/" target="_blank">
                                  <span class="socicon-instagram socicon mbr-iconfont mbr-iconfont-social"></span>
                              </a>
                          </div>
                          <div class="soc-item">
                              <a href="https://plus.google.com/" target="_blank">
                                  <span class="socicon-googleplus socicon mbr-iconfont br-iconfont-social"></span>
                              </a>
                          </div>
                          <div class="soc-item">
                              <a href="https://www.behance.net/" target="_blank">
                                  <span class="socicon-behance socicon mbr-iconfont mbr-iconfont-social"></span>
                              </a>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </section>

  <script src="assets/web/assets/jquery/jquery.min.js"></script>
  <script src="https://cdn.rawgit.com/botmonster/jquery-bootpag/master/lib/jquery.bootpag.min.js"></script>
  <script src="assets/popper/popper.min.js"></script>
  <script src="assets/tether/tether.min.js"></script>
  <script src="assets/bootstrap/js/bootstrap.min.js"></script>
  <script src="assets/smoothscroll/smooth-scroll.js"></script>
  <script src="assets/touchswipe/jquery.touch-swipe.min.js"></script>
  <script src="assets/parallax/jarallax.min.js"></script>
  <script src="assets/dropdown/js/script.min.js"></script>
  <script src="assets/theme/js/script.js"></script>

  <script type="text/javascript">
      // <img src="../Views/assets/images/audio-thumbnail.jpg">
      let uri = '/tracks/find';
      $.ajax({
          url: uri,
          dataType: "json",
          success: function (data) {
              debugger;
              let html = '<div class="container container-table">\n' +
                  '      <h2 class="mbr-section-title mbr-fonts-style align-center pb-3 display-2">Sermon List</h2>\n' +
                  '      \n' +
                  '      <div class="table-wrapper">\n' +
                  '        <div class="container">\n' +
                  '          <div class="row search">\n' +
                  '            <div class="col-md-6"></div>\n' +
                  '            <div class="col-md-6">\n' +
                  '                <div class="dataTables_filter">\n' +
                  '                  <label class="searchInfo mbr-fonts-style display-7">Search:</label>\n' +
                  '                  <input class="form-control input-sm" disabled="">\n' +
                  '                </div>\n' +
                  '            </div>\n' +
                  '          </div>\n' +
                  '        </div>\n' +
                  '\n' +
                  '        <div class="container scroll">\n' +
                  '            <table class="table isSearch" cellspacing="0">\n' +
                  '                <thead>\n' +
                  '                <tr class="table-heads ">\n' +
                  '                  <th class="head-item mbr-fonts-style display-7">Sermon</th>\n' +
                  '                  <th class="head-item mbr-fonts-style display-7">Duration</th>\n' +
                  '                  <th class="head-item mbr-fonts-style display-7">DATE</th>\n' +
                  '                  <th class="head-item mbr-fonts-style display-7">SPEAKER</th>\n' +
                  '                  <th class="head-item mbr-fonts-style display-7">PLAY</th>\n' +
                  '                  <th class="head-item mbr-fonts-style display-7">DOWNLOAD</th></tr>' +
                  '                </thead>\n' +
                  '<tbody id="trackList">';
              data.forEach((data, k) => {
                  console.log()
                  // html = '<a  href="javascript:void(0)" onclick="_onClickItem(\''+ data._id +'\')">' + data.metadata.speaker+' - ' + data.filename + '(' +data.metadata.duration + 'hr) </a>' + ' - ' +
                  //     '<a target="_blank"  href="/tracks/download/'+ data._id +'">Download</a>';
                  html+='<tr>\n' +
                      '                <td class="body-item mbr-fonts-style display-7">' + data.filename +'</td>\n' +
                      '                <td class="body-item mbr-fonts-style display-7">' +data.metadata.duration +'</td>\n' +
                      '                <td class="body-item mbr-fonts-style display-7">' +data.uploadDate  +'</td>\n' +
                      '                <td class="body-item mbr-fonts-style display-7">' + data.metadata.speaker +'</td>'+
                  '                <td class="body-item mbr-fonts-style display-7"><audio id="myAudio" controls>\n' +
                  '                        <source src="/tracks/download/'+ data._id +'" type="audio/mp3">\n' +
                  '                        Your browser does not support the audio element.\n' +
                  '                    </audio></td>\n'+
                      '                <td class="body-item mbr-fonts-style display-7">' +
                      '<a target="_blank"  href="/tracks/download/'+ data._id +'">Download</a></td>' +
                      '</tr>'
              });
              html += '</tbody>\n' +
                  '            </table>\n' +
                  '        </div>\n' +
                  '        <div class="container table-info-container">\n' +
                  '          <div class="row info">\n' +
                  '            <div class="col-md-6">\n' +
                  '              <div class="dataTables_info mbr-fonts-style display-7">\n' +
                  '                <span class="infoBefore">Showing</span>\n' +
                  '                <span class="inactive infoRows"></span>\n' +
                  '                <span class="infoAfter">entries</span>\n' +
                  '                <span class="infoFilteredBefore">(filtered from</span>\n' +
                  '                <span class="inactive infoRows"></span>\n' +
                  '                <span class="infoFilteredAfter"> total entries)</span>\n' +
                  '              </div>\n' +
                  '            </div>\n' +
                  '            <div class="col-md-6"></div>\n' +
                  '          </div>\n' +
                  '        </div>\n' +
                  '      </div>\n' +
                  '    </div>';
              debugger;
              let referenceNode = document.getElementById("header1-1w");
              let htmlObject = document.createElement('section');
              htmlObject.setAttribute("id", "table1-2z");
              htmlObject.classList.add("section-table");
              htmlObject.classList.add("cid-rcUlCXyszu");
              htmlObject.innerHTML = html;
              insertAfter(htmlObject, referenceNode);
              html = "";

              dynamicallyLoadScript("assets/datatables/jquery.data-tables.min.js");
              dynamicallyLoadScript("assets/datatables/data-tables.bootstrap4.min.js");

              setTimeout(()=>{
                  applyPagination();
              }, 1000);

          }
      });

      //=====================================Apply Pagination==============================
      function applyPagination() {
          let htmlPagination = document.createElement('p');
          htmlPagination.setAttribute("id", "pagination-here");
          referenceNode = document.getElementById("DataTables_Table_0_wrapper");
          debugger;
          insertAfter(htmlPagination, referenceNode);

          htmlPagination = document.createElement('p');
          htmlPagination.setAttribute("id", "content");
          htmlPagination.innerText = "Page 1";
          referenceNode = document.getElementById("pagination-here");
          insertAfter(htmlPagination, referenceNode);

          //******************************************Pagination Area***********************************
          //========================apply pagination data attribute===============================

          let table = document.getElementById("DataTables_Table_0");
          let totalPageData = 5;
          let page = 1;
          for (let i = 1, row; row = table.rows[i]; i++) {//debugger;
              //iterate through rows  rows would be accessed using the "row" variable assigned in the for loop
              row.setAttribute('data-page', page);

              if(page > 1)
                  row.setAttribute('hidden', "");
              if((totalPageData*page) % i === 0 && i !== 1)
                  page++;

              // alert(i-1);
          }

          //============Apply booypagination jquery=================
          $("#pagination-here").bootpag({
              total: page,
              page: 1,
              maxVisible: 5,
              leaps: true,
              href: "#result-page-{{number}}",
          })

          //page click action
          $("#pagination-here").on("page", function(event, num){
              //show / hide content or pull via ajax etc
              $("#content").html("Page " + num);
          });
          //============Apply booypagination jquery=================

          //=======================onload go to page===============================
          let pageHash = window.location.hash.substr(1);
          if(pageHash)
              selectPageByData(pageHash.replace(/\D/g, ""), document.getElementById("DataTables_Table_0"));
          //=======================onload go to page===============================

          //=========lock all the click events for pagination in============
          let Items = document.querySelectorAll('#pagination-here > ul > li');
          for (i = 0; i < Items.length; i++) {
              Items[i].onclick = function() {
                  selectPageByData(this.getAttribute('data-lp'), document.getElementById("DataTables_Table_0"));
              };
              //=========automate click event on load==============
              if(pageHash) Items[parseInt(pageHash.replace(/\D/g, ""))].click();
          }
          //=========lock all the click events for pagination in============
      }
      //========================select pagination by data attribute===============================
      function selectPageByData(dataPage, table){debugger
          for (let i = 1, row; row = table.rows[i]; i++) {
              //iterate through rows  rows would be accessed using the "row" variable assigned in the for loop
              let dataPageTable = row.getAttribute('data-page');
              if(dataPage === dataPageTable)
                  row.removeAttribute('hidden');
              else
                  row.setAttribute('hidden', "");
          }
      }
      //========================select pagination by data attribute===============================
      //********************************************Pagination Area**************************************************


      function insertAfter(newNode, referenceNode) {
          referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);
      }

      function dynamicallyLoadScript(url) {
          let script = document.createElement("script");  // create a script DOM node
          script.src = url;  // set its src to the provided URL

          document.body.appendChild(script);  // add it to the end of the head section of the page (could change 'head' to 'body' to add it to the end of the body section instead)
      }


      // function _onClickItem(trackId){
      //     debugger
      //     // document.getElementById("audio").innerHTML =
      //     // '<video controls="" autoplay="" name="media"><source src="/tracks/' + trackId + '" type="audio/mp3"></video>';
      //     let url = "/tracks/" + trackId;
      //     // let video = document.getElementById("myVideo");
      //     let audio = document.getElementById("myAudio");
      //     // video.setAttribute("src", url);
      //     // video.load();
      //     audio.setAttribute("src", url);
      //     audio.load();
      //     audio.play();
      // }

  </script>

  <script src="assets/changes-cookie-detect/detect-ajax.js"></script>
  <script src="assets/changes-cookie-detect/detect-login-logout.js"></script>
  
  
 <div id="scrollToTop" class="scrollToTop mbr-arrow-up"><a style="text-align: center;"><i></i></a></div>
  </body>
</html>